```mermaid
graph TD
    A[ðŸ‘¤ ç”¨æˆ·å¼€å§‹] --> B{ðŸ’° æ£€æŸ¥ GEM ä½™é¢}
    
    B -->|ä½™é¢ä¸è¶³| C[ðŸ”„ é€šè¿‡ Uniswap èŽ·å– GEM]
    B -->|ä½™é¢å……è¶³| F[âœ… æŽˆæƒ GEM ä»£å¸]
    
    C --> D[ðŸ’± ETH â†’ GEM äº¤æ¢]
    D --> E[âœ… èŽ·å¾— GEM ä»£å¸]
    E --> F
    
    F --> G[ðŸ“ è°ƒç”¨ approve å‡½æ•°]
    G --> H[â³ ç­‰å¾…æŽˆæƒç¡®è®¤]
    H --> I{ðŸ” æŽˆæƒæ˜¯å¦æˆåŠŸ?}
    
    I -->|å¤±è´¥| J[âŒ æŽˆæƒå¤±è´¥æç¤º]
    I -->|æˆåŠŸ| K[ðŸŽ è°ƒç”¨ BlindBox åˆçº¦]
    
    J --> F
    
    K --> L[ðŸ“ž purchaseBlindBox å‡½æ•°]
    L --> M[ðŸ’¸ æ‰£é™¤ GEM ä»£å¸]
    M --> N[ðŸŽ² ç”Ÿæˆéšæœºå…ƒæ•°æ®ç´¢å¼•]
    N --> O[ðŸ“ž è°ƒç”¨ GenesisMecha.mint]
    O --> P[ðŸŽ¨ é“¸é€  NFT]
    P --> Q[ðŸ·ï¸ è®¾ç½®éšæœºå…ƒæ•°æ®]
    Q --> R[âœ¨ NFT é“¸é€ å®Œæˆ]
    R --> S[ðŸŽ‰ ç”¨æˆ·èŽ·å¾— NFT]
    
    style A fill:#4f46e5,stroke:#333,stroke-width:2px,color:#fff
    style S fill:#10b981,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#f59e0b,stroke:#333,stroke-width:2px,color:#fff
    style K fill:#8b5cf6,stroke:#333,stroke-width:2px,color:#fff
    style J fill:#ef4444,stroke:#333,stroke-width:2px,color:#fff
    
    classDef processBox fill:#374151,stroke:#6b7280,stroke-width:2px,color:#fff
    classDef decisionBox fill:#1f2937,stroke:#9ca3af,stroke-width:2px,color:#fff
    classDef successBox fill:#065f46,stroke:#10b981,stroke-width:2px,color:#fff
    classDef errorBox fill:#7f1d1d,stroke:#ef4444,stroke-width:2px,color:#fff
    
    class B,I decisionBox
    class E,F,G,H,L,M,N,O,P,Q,R processBox
    class S successBox
    class J errorBox
```